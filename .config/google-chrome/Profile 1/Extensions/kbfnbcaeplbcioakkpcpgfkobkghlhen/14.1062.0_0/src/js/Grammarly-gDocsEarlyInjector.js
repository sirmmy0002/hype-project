!function(){var e;!function(e){e.full="full",e.limited="limited"}(e||(e={}));function n(e,n,t,o=document,i=!1,a=!1){const r=e,l=o.documentElement;if(i){const e=o.createElement("link");e.href=r,e.rel="preload",e.as="script",e.onload=()=>{e.remove()},l.prepend(e)}const d=o.createElement("script");d.async=!1,d.defer=!1,d.src=r,d.type="text/javascript",n&&d.setAttribute("data-ext-id",n),t&&d.setAttribute("data-ext-version",t),a&&d.setAttribute("data-ext-minimal","true"),d.onload=()=>{d.remove()},l.prepend(d)}!function(e,t,o){var i,a,r;try{n(t("Grammarly-gDocsEarlyInjectedCs.js"),e,void 0,void 0,!0);const l=o(),d=Boolean(null===(i=l.canvasWithSVG)||void 0===i?void 0:i.enabledWithExperiment),c=Boolean(null===(a=l.canvasWithSVG)||void 0===a?void 0:a.enabledWithDynamicConfig);(Boolean(null===(r=l.canvasWithSVG)||void 0===r?void 0:r.forcedWithDynamicConfig)||c&&d)&&n(t("Grammarly-gDocsAnnotatedCanvasEarlyInjected.js"),e,void 0,void 0,!0)}catch(e){console.error("Grammarly error: Unable to initialize on gdocs due to exception: ",e)}(function(e="grammarly-desktop-integration"){var n,t;const o=`\n  div.${e} {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select:none;\n    user-select:none;\n  }\n\n  div.${e}:before {\n    content: attr(data-content);\n  }\n`,i=document.createElement("style");i.textContent=o;const a=document.createElement("div");a.setAttribute("aria-label","grammarly-integration"),a.setAttribute("role","group"),a.setAttribute("tabindex","-1"),a.setAttribute("class",e);const r=document.createElement(e);return r.attachShadow({mode:"open"}),r.setAttribute("data-grammarly-shadow-root","true"),null===(n=r.shadowRoot)||void 0===n||n.appendChild(i),null===(t=r.shadowRoot)||void 0===t||t.appendChild(a),document.documentElement.appendChild(r),{activate:(e,n,t)=>{null==a||a.setAttribute("data-content",JSON.stringify(n?{mode:n,isActive:e,isUserDisabled:t}:{isActive:e}))},remove:()=>{var e;null===(e=null==r?void 0:r.parentNode)||void 0===e||e.removeChild(r)}}})().activate(!0)}(chrome.runtime.id,(e=>chrome.runtime.getURL(`src/js/${e}`)),function(e,n,t,o){function i(){const e=n.getItem(t);if(e)try{return JSON.parse(e)}catch(e){}}return chrome.storage.local.get(e,(e=>{const a=JSON.stringify(o(i(),e));n.setItem(t,a)})),chrome.storage.onChanged.addListener(((a,r)=>{if("local"===r){const r={};let l=!1;for(const[n,t]of Object.entries(a))e.includes(n)&&(r[n]=t.newValue,l=!0);if(l){const e=JSON.stringify(o(i(),r));n.setItem(t,e)}}})),function(){return o(i(),{})}}(["user","dynamicConfig"],localStorage,"grammarly.gDocs",(function(e,n){var t,o,i,a,r,l;const d=n.dynamicConfig?Object.keys(n.dynamicConfig).find((e=>e.startsWith("gDocsCanvasConfig"))):null;return{canvasWithSVG:{enabledWithDynamicConfig:Boolean(d?null===(t=n.dynamicConfig[d])||void 0===t?void 0:t.useAnnotatedCanvas:null===(o=null==e?void 0:e.canvasWithSVG)||void 0===o?void 0:o.enabledWithDynamicConfig),enabledWithExperiment:Boolean((null===(i=n.user)||void 0===i?void 0:i.experiments)?n.user.experiments.gDocsAnnotatedCanvas:null===(a=null==e?void 0:e.canvasWithSVG)||void 0===a?void 0:a.enabledWithExperiment),forcedWithDynamicConfig:Boolean(d?null===(r=n.dynamicConfig[d])||void 0===r?void 0:r.forceSVGMapping:null===(l=null==e?void 0:e.canvasWithSVG)||void 0===l?void 0:l.forcedWithDynamicConfig)}}})))}();